{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/home-assistant-js-websocket/dist/haws.es.js","webpack:///./src/data/lovelace.ts","webpack:///./src/entrypoints/core.ts","webpack:///./src/data/ws-user.ts","webpack:///./src/data/auth.ts","webpack:///./src/common/auth/token_storage.ts","webpack:///./src/data/ws-themes.ts","webpack:///./src/data/ws-panels.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","installedModules","25","__webpack_require__","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","self","oldJsonpFunction","slice","s","extendStatics","b","setPrototypeOf","__proto__","Array","__extends","__","this","constructor","__assign","assign","arguments","apply","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","iterator","v","op","TypeError","pop","__spreadArrays","il","k","a","j","jl","__makeTemplateObject","cooked","raw","asyncIterator","subscription","options","commandId","commands","Map","eventListeners","closeRequested","setSocket","socket","addEventListener","_handleMessage","_handleClose","forEach","subscribe","unsubscribe","fireEvent","set","removeEventListener","splice","close","subscribeEvents","subscribeMessage","event_type","ping","sendMessagePromise","sendMessage","_genCmdId","id","send","JSON","stringify","callback","delete","parse","warn","success","code","setupRetry","createSocket","Math","min","u","saveTokens","includes","location","href","encodeURIComponent","redirectUrl","protocol","host","pathname","search","btoa","hassUrl","clientId","loadTokens","substr","split","decodeURIComponent","atob","state","h","authCode","hostname","FormData","append","keys","fetch","method","credentials","ok","status","json","expires","expires_in","Date","now","grant_type","_saveTokens","wsUrl","configurable","accessToken","expired","access_token","refreshAccessToken","refresh_token","revoke","defineProperties","action","setState","catch","readyState","OPEN","refresh","domain","service","service_data","components","concat","component","E","w","S","description","fields","T","I","M","L","O","entity_id","U","new_state","R","C","x","N","auth","WebSocket","fetchConfig","conn","force","saveConfig","hass","config","callWS","subscribeLovelaceUpdates","onChange","isExternal","authProm","createExternalAuth","window","hassConnection","history","replaceState","noop","startsWith","llConfProm","homeAssistant","querySelector","callService","logger","replace","filename","lineno","colno","userCollection","subscribeUser","getSignedPath","path","fetchAuthProviders","storage","localStorage","tokenCache","__tokenCache","askWrite","tokens","writeEnabled","hassTokens","enableWrite","fetchThemes","subscribeUpdates","store","subscribeThemes","fetchPanels","panels","subscribePanels"],"mappings":"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","file":"core.ea96acdb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t};\n\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t25: 0\n \t};\n\n\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"chunk.\" + {\"33\":\"e01a7d3734487f64b0e3\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/frontend_es5/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = self[\"webpackJsonp\"] = self[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 167);\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","function e(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}\"undefined\"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol(\"Symbol.iterator\"))),\"undefined\"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol(\"Symbol.asyncIterator\")));var t=1,n=2,r=3,o=4,s=5;function i(e){return{type:\"unsubscribe_events\",subscription:e}}var c=function(e,t){this.options=t,this.commandId=1,this.commands=new Map,this.eventListeners=new Map,this.closeRequested=!1,this.setSocket(e)};c.prototype.setSocket=function(e){var t=this,n=this.socket;if(this.socket=e,e.addEventListener(\"message\",function(e){return t._handleMessage(e)}),e.addEventListener(\"close\",function(e){return t._handleClose(e)}),n){var r=this.commands;this.commandId=1,this.commands=new Map,r.forEach(function(e){\"subscribe\"in e&&e.subscribe().then(function(t){e.unsubscribe=t,e.resolve()})}),this.fireEvent(\"ready\")}},c.prototype.addEventListener=function(e,t){var n=this.eventListeners.get(e);n||this.eventListeners.set(e,n=[]),n.push(t)},c.prototype.removeEventListener=function(e,t){var n=this.eventListeners.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},c.prototype.fireEvent=function(e,t){var n=this;(this.eventListeners.get(e)||[]).forEach(function(e){return e(n,t)})},c.prototype.close=function(){this.closeRequested=!0,this.socket.close()},c.prototype.subscribeEvents=function(e,t){try{return this.subscribeMessage(e,function(e){var t={type:\"subscribe_events\"};return e&&(t.event_type=e),t}(t))}catch(e){return Promise.reject(e)}},c.prototype.ping=function(){return this.sendMessagePromise({type:\"ping\"})},c.prototype.sendMessage=function(e,t){t||(t=this._genCmdId()),e.id=t,this.socket.send(JSON.stringify(e))},c.prototype.sendMessagePromise=function(e){var t=this;return new Promise(function(n,r){var o=t._genCmdId();t.commands.set(o,{resolve:n,reject:r}),t.sendMessage(e,o)})},c.prototype.subscribeMessage=function(e,t){try{var n,r=this,o=r._genCmdId();return Promise.resolve(new Promise(function(s,c){n={resolve:s,reject:c,callback:e,subscribe:function(){return r.subscribeMessage(e,t)},unsubscribe:function(){try{return Promise.resolve(r.sendMessagePromise(i(o))).then(function(){r.commands.delete(o)})}catch(e){return Promise.reject(e)}}},r.commands.set(o,n);try{r.sendMessage(t,o)}catch(e){}})).then(function(){return function(){return n.unsubscribe()}})}catch(e){return Promise.reject(e)}},c.prototype._handleMessage=function(e){var t=JSON.parse(e.data),n=this.commands.get(t.id);switch(t.type){case\"event\":n?n.callback(t.event):(console.warn(\"Received event for unknown subscription \"+t.id+\". Unsubscribing.\"),this.sendMessagePromise(i(t.id)));break;case\"result\":n&&(t.success?(n.resolve(t.result),\"subscribe\"in n||this.commands.delete(t.id)):(n.reject(t.error),this.commands.delete(t.id)));break;case\"pong\":n?(n.resolve(),this.commands.delete(t.id)):console.warn(\"Received unknown pong response \"+t.id)}},c.prototype._handleClose=function(t){var n=this;if(this.commands.forEach(function(e){\"subscribe\"in e||e.reject({type:\"result\",success:!1,error:{code:3,message:\"Connection lost\"}})}),!this.closeRequested){this.fireEvent(\"disconnected\");var r=Object.assign({},this.options,{setupRetry:0}),o=function(t){var s=n;setTimeout(function(){try{var n=e(function(){return Promise.resolve(r.createSocket(r)).then(function(e){s.setSocket(e)})},function(e){2===e?s.fireEvent(\"reconnect-error\",e):o(t+1)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},1e3*Math.min(t,5))};o(0)}},c.prototype._genCmdId=function(){return++this.commandId};var u=function(e){void 0===e&&(e={});try{function t(){function t(){function t(){if(n)return new v(n,e.saveTokens);if(void 0===r)throw o;return function(e,t,n,r){n+=(n.includes(\"?\")?\"&\":\"?\")+\"auth_callback=1\",document.location.href=function(e,t,n,r){var o=e+\"/auth/authorize?response_type=code&redirect_uri=\"+encodeURIComponent(n);return null!==t&&(o+=\"&client_id=\"+encodeURIComponent(t)),r&&(o+=\"&state=\"+encodeURIComponent(r)),o}(e,t,n,r)}(r,s,e.redirectUrl||location.protocol+\"//\"+location.host+location.pathname+location.search,btoa(JSON.stringify({hassUrl:r,clientId:s}))),new Promise(function(){})}var i=function(){if(!n&&e.loadTokens)return Promise.resolve(e.loadTokens()).then(function(e){n=e})}();return i&&i.then?i.then(t):t()}var i=function(){if(!n){var t=function(e){for(var t={},n=location.search.substr(1).split(\"&\"),r=0;r<n.length;r++){var o=n[r].split(\"=\"),s=decodeURIComponent(o[0]),i=o.length>1?decodeURIComponent(o[1]):void 0;t[s]=i}return t}(),r=function(){if(\"auth_callback\"in t){var r=JSON.parse(atob(t.state));return Promise.resolve(h(r.hassUrl,r.clientId,t.code)).then(function(t){n=t,e.saveTokens&&e.saveTokens(n)})}}();if(r&&r.then)return r.then(function(){})}}();return i&&i.then?i.then(t):t()}var n,r=e.hassUrl;r&&\"/\"===r[r.length-1]&&(r=r.substr(0,r.length-1));var s=void 0!==e.clientId?e.clientId:f(),i=function(){if(!n&&e.authCode&&r)return Promise.resolve(h(r,s,e.authCode)).then(function(t){n=t,e.saveTokens&&e.saveTokens(n)})}();return Promise.resolve(i&&i.then?i.then(t):t())}catch(e){return Promise.reject(e)}},a=function(e,t,n){try{var r=\"undefined\"!=typeof location&&location;if(r&&\"https:\"===r.protocol){var o=document.createElement(\"a\");if(o.href=e,\"http:\"===o.protocol&&\"localhost\"!==o.hostname)throw 5}var s=new FormData;return null!==t&&s.append(\"client_id\",t),Object.keys(n).forEach(function(e){s.append(e,n[e])}),Promise.resolve(fetch(e+\"/auth/token\",{method:\"POST\",credentials:\"same-origin\",body:s})).then(function(n){if(!n.ok)throw 400===n.status||403===n.status?2:new Error(\"Unable to fetch tokens\");return Promise.resolve(n.json()).then(function(n){return n.hassUrl=e,n.clientId=t,n.expires=d(n.expires_in),n})})}catch(e){return Promise.reject(e)}},f=function(){return location.protocol+\"//\"+location.host+\"/\"},d=function(e){return 1e3*e+Date.now()};function h(e,t,n){return a(e,t,{code:n,grant_type:\"authorization_code\"})}var v=function(e,t){this.data=e,this._saveTokens=t},l={wsUrl:{configurable:!0},accessToken:{configurable:!0},expired:{configurable:!0}};l.wsUrl.get=function(){return\"ws\"+this.data.hassUrl.substr(4)+\"/api/websocket\"},l.accessToken.get=function(){return this.data.access_token},l.expired.get=function(){return Date.now()>this.data.expires},v.prototype.refreshAccessToken=function(){try{var e=this;return Promise.resolve(a(e.data.hassUrl,e.data.clientId,{grant_type:\"refresh_token\",refresh_token:e.data.refresh_token})).then(function(t){t.refresh_token=e.data.refresh_token,e.data=t,e._saveTokens&&e._saveTokens(t)})}catch(e){return Promise.reject(e)}},v.prototype.revoke=function(){try{var e=this,t=new FormData;return t.append(\"action\",\"revoke\"),t.append(\"token\",e.data.refresh_token),Promise.resolve(fetch(e.data.hassUrl+\"/auth/token\",{method:\"POST\",credentials:\"same-origin\",body:t})).then(function(){e._saveTokens&&e._saveTokens(null)})}catch(e){return Promise.reject(e)}},Object.defineProperties(v.prototype,l);var m=function(e,t,n,r){if(e[t])return e[t];var o,s=0,i=function(e){var t=[];function n(n,r){e=r?n:Object.assign({},e,n);for(var o=t,s=0;s<o.length;s++)o[s](e)}return{get state(){return e},action:function(t){function r(e){n(e,!1)}return function(){for(var n=arguments,o=[e],s=0;s<arguments.length;s++)o.push(n[s]);var i=t.apply(this,o);if(null!=i)return i.then?i.then(r):r(i)}},setState:n,subscribe:function(e){return t.push(e),function(){!function(e){for(var n=[],r=0;r<t.length;r++)t[r]===e?e=null:n.push(t[r]);t=n}(e)}}}}(),c=function(){return n(e).then(function(e){return i.setState(e,!0)})},u=function(){return c().catch(function(t){if(e.socket.readyState==e.socket.OPEN)throw t})};return e[t]={get state(){return i.state},refresh:c,subscribe:function(t){1==++s&&(r&&(o=r(e,i)),e.addEventListener(\"ready\",u),u());var n=i.subscribe(t);return void 0!==i.state&&setTimeout(function(){return t(i.state)},0),function(){n(),--s||(o&&o.then(function(e){e()}),e.removeEventListener(\"ready\",c))}}},e[t]},p=function(e,t,n,r,o){return m(r,e,t,n).subscribe(o)},b=function(e){return e.sendMessagePromise({type:\"get_states\"})},y=function(e){return e.sendMessagePromise({type:\"get_services\"})},g=function(e){return e.sendMessagePromise({type:\"get_config\"})},k=function(e){return e.sendMessagePromise({type:\"auth/current_user\"})},_=function(e,t,n,r){return e.sendMessagePromise(function(e,t,n){var r={type:\"call_service\",domain:e,service:t};return n&&(r.service_data=n),r}(t,n,r))};function P(e,t){return void 0===e?null:{components:e.components.concat(t.data.component)}}var E=function(e){return g(e)},w=function(e,t){return Promise.all([e.subscribeEvents(t.action(P),\"component_loaded\"),e.subscribeEvents(function(){return E(e).then(function(e){return t.setState(e,!0)})},\"core_config_updated\")]).then(function(e){return function(){return e.forEach(function(e){return e()})}})},S=function(e,t){return function(e){return m(e,\"_cnf\",E,w)}(e).subscribe(t)};function j(e,t){var n,r;if(void 0===e)return null;var o=t.data,s=o.domain,i=Object.assign({},e[s],((n={})[o.service]={description:\"\",fields:{}},n));return(r={})[s]=i,r}function T(e,t){var n;if(void 0===e)return null;var r=t.data,o=r.domain,s=r.service,i=e[o];if(!(i&&s in i))return null;var c={};return Object.keys(i).forEach(function(e){e!==s&&(c[e]=i[e])}),(n={})[o]=c,n}var I=function(e){return y(e)},M=function(e,t){return Promise.all([e.subscribeEvents(t.action(j),\"service_registered\"),e.subscribeEvents(t.action(T),\"service_removed\")]).then(function(e){return function(){return e.forEach(function(e){return e()})}})},L=function(e,t){return function(e){return m(e,\"_srv\",I,M)}(e).subscribe(t)},O=function(e){try{return Promise.resolve(b(e)).then(function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.entity_id]=r}return t})}catch(e){return Promise.reject(e)}},U=function(e,t){return e.subscribeEvents(function(e){return function(t,n){var r,o=t.state;if(void 0!==o){var s=e.data,i=s.entity_id,c=s.new_state;if(c)t.setState(((r={})[c.entity_id]=c,r));else{var u=Object.assign({},o);delete u[i],t.setState(u,!0)}}}(t)},\"state_changed\")},C=function(e){return m(e,\"_ent\",O,U)},R=function(e,t){return C(e).subscribe(t)},x=function(e){try{var t=Object.assign({},N,e);return Promise.resolve(t.createSocket(t)).then(function(e){return new c(e,t)})}catch(e){return Promise.reject(e)}},N={setupRetry:0,createSocket:function(t){if(!t.auth)throw o;var n=t.auth,r=n.expired?n.refreshAccessToken().then(function(){r=void 0},function(){r=void 0}):void 0,s=n.wsUrl;return new Promise(function(o,i){return function t(o,i,c){var u=new WebSocket(s),a=!1,f=function(){if(u.removeEventListener(\"close\",f),a)c(2);else if(0!==o){var e=-1===o?-1:o-1;setTimeout(function(){return t(e,i,c)},1e3)}else c(1)},d=function(t){try{var o=e(function(){function e(){u.send(JSON.stringify({type:\"auth\",access_token:n.accessToken}))}var t=function(){if(n.expired)return Promise.resolve(r||n.refreshAccessToken()).then(function(){})}();return t&&t.then?t.then(e):e()},function(e){a=2===e,u.close()});return Promise.resolve(o&&o.then?o.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},h=function(e){try{switch(JSON.parse(e.data).type){case\"auth_invalid\":a=!0,u.close();break;case\"auth_ok\":u.removeEventListener(\"open\",d),u.removeEventListener(\"message\",h),u.removeEventListener(\"close\",f),u.removeEventListener(\"error\",f),i(u)}return Promise.resolve()}catch(e){return Promise.reject(e)}};u.addEventListener(\"open\",d),u.addEventListener(\"message\",h),u.addEventListener(\"close\",f),u.addEventListener(\"error\",f)}(t.setupRetry,o,i)})}};export{x as createConnection,u as getAuth,f as genClientId,d as genExpires,v as Auth,m as getCollection,p as createCollection,c as Connection,S as subscribeConfig,L as subscribeServices,C as entitiesColl,R as subscribeEntities,t as ERR_CANNOT_CONNECT,n as ERR_INVALID_AUTH,r as ERR_CONNECTION_LOST,o as ERR_HASS_HOST_REQUIRED,s as ERR_INVALID_HTTPS_TO_HTTP,b as getStates,y as getServices,g as getConfig,k as getUser,_ as callService};\n//# sourceMappingURL=haws.es.js.map\n","import { HomeAssistant } from \"../types\";\nimport { Connection, getCollection } from \"home-assistant-js-websocket\";\n\nexport interface LovelaceConfig {\n  title?: string;\n  views: LovelaceViewConfig[];\n  background?: string;\n  resources?: Array<{ type: \"css\" | \"js\" | \"module\" | \"html\"; url: string }>;\n}\n\nexport interface LovelaceViewConfig {\n  index?: number;\n  title?: string;\n  badges?: string[];\n  cards?: LovelaceCardConfig[];\n  path?: string;\n  icon?: string;\n  theme?: string;\n  panel?: boolean;\n  background?: string;\n}\n\nexport interface LovelaceCardConfig {\n  index?: number;\n  view_index?: number;\n  type: string;\n  [key: string]: any;\n}\n\nexport interface ToggleActionConfig {\n  action: \"toggle\";\n}\n\nexport interface CallServiceActionConfig {\n  action: \"call-service\";\n  service: string;\n  service_data?: {\n    entity_id?: string | [string];\n    [key: string]: any;\n  };\n}\n\nexport interface NavigateActionConfig {\n  action: \"navigate\";\n  navigation_path: string;\n}\n\nexport interface MoreInfoActionConfig {\n  action: \"more-info\";\n}\n\nexport interface NoActionConfig {\n  action: \"none\";\n}\n\nexport type ActionConfig =\n  | ToggleActionConfig\n  | CallServiceActionConfig\n  | NavigateActionConfig\n  | MoreInfoActionConfig\n  | NoActionConfig;\n\nexport const fetchConfig = (\n  conn: Connection,\n  force: boolean\n): Promise<LovelaceConfig> =>\n  conn.sendMessagePromise({\n    type: \"lovelace/config\",\n    force,\n  });\n\nexport const saveConfig = (\n  hass: HomeAssistant,\n  config: LovelaceConfig\n): Promise<void> =>\n  hass.callWS({\n    type: \"lovelace/config/save\",\n    config,\n  });\n\nexport const subscribeLovelaceUpdates = (\n  conn: Connection,\n  onChange: () => void\n) => conn.subscribeEvents(onChange, \"lovelace_updated\");\n\nexport const getLovelaceCollection = (conn: Connection) =>\n  getCollection(\n    conn,\n    \"_lovelace\",\n    (conn2) => fetchConfig(conn2, false),\n    (_conn, store) =>\n      subscribeLovelaceUpdates(conn, () =>\n        fetchConfig(conn, false).then((config) => store.setState(config, true))\n      )\n  );\n\nexport interface WindowWithLovelaceProm extends Window {\n  llConfProm?: Promise<LovelaceConfig>;\n}\n","import {\n  getAuth,\n  createConnection,\n  subscribeConfig,\n  subscribeEntities,\n  subscribeServices,\n  ERR_INVALID_AUTH,\n  Auth,\n  Connection,\n} from \"home-assistant-js-websocket\";\n\nimport { loadTokens, saveTokens } from \"../common/auth/token_storage\";\nimport { subscribePanels } from \"../data/ws-panels\";\nimport { subscribeThemes } from \"../data/ws-themes\";\nimport { subscribeUser } from \"../data/ws-user\";\nimport { HomeAssistant } from \"../types\";\nimport { hassUrl } from \"../data/auth\";\nimport { fetchConfig, WindowWithLovelaceProm } from \"../data/lovelace\";\n\ndeclare global {\n  interface Window {\n    hassConnection: Promise<{ auth: Auth; conn: Connection }>;\n  }\n}\n\nconst isExternal = location.search.includes(\"external_auth=1\");\n\nconst authProm = isExternal\n  ? () =>\n      import(/* webpackChunkName: \"external_auth\" */ \"../external_app/external_auth\").then(\n        ({ createExternalAuth }) => createExternalAuth(hassUrl)\n      )\n  : () =>\n      getAuth({\n        hassUrl,\n        saveTokens,\n        loadTokens: () => Promise.resolve(loadTokens()),\n      });\n\nconst connProm = async (auth) => {\n  try {\n    const conn = await createConnection({ auth });\n\n    // Clear url if we have been able to establish a connection\n    if (location.search.includes(\"auth_callback=1\")) {\n      history.replaceState(null, \"\", location.pathname);\n    }\n\n    return { auth, conn };\n  } catch (err) {\n    if (err !== ERR_INVALID_AUTH) {\n      throw err;\n    }\n    // We can get invalid auth if auth tokens were stored that are no longer valid\n    // Clear stored tokens.\n    if (!isExternal) {\n      saveTokens(null);\n    }\n    auth = await authProm();\n    const conn = await createConnection({ auth });\n    return { auth, conn };\n  }\n};\n\nif (__DEV__) {\n  performance.mark(\"hass-start\");\n}\nwindow.hassConnection = authProm().then(connProm);\n\n// Start fetching some of the data that we will need.\nwindow.hassConnection.then(({ conn }) => {\n  const noop = () => {\n    // do nothing\n  };\n  subscribeEntities(conn, noop);\n  subscribeConfig(conn, noop);\n  subscribeServices(conn, noop);\n  subscribePanels(conn, noop);\n  subscribeThemes(conn, noop);\n  subscribeUser(conn, noop);\n\n  if (location.pathname === \"/\" || location.pathname.startsWith(\"/lovelace/\")) {\n    (window as WindowWithLovelaceProm).llConfProm = fetchConfig(conn, false);\n  }\n});\n\nwindow.addEventListener(\"error\", (e) => {\n  const homeAssistant = document.querySelector(\"home-assistant\") as any;\n  if (\n    homeAssistant &&\n    homeAssistant.hass &&\n    (homeAssistant.hass as HomeAssistant).callService\n  ) {\n    homeAssistant.hass.callService(\"system_log\", \"write\", {\n      logger: `frontend.${\n        __DEV__ ? \"js_dev\" : \"js\"\n      }.${__BUILD__}.${__VERSION__.replace(\".\", \"\")}`,\n      message: `${e.filename}:${e.lineno}:${e.colno} ${e.message}`,\n    });\n  }\n});\n","import {\n  getUser,\n  Connection,\n  getCollection,\n} from \"home-assistant-js-websocket\";\nimport { CurrentUser } from \"../types\";\n\nexport const userCollection = (conn: Connection) =>\n  getCollection(\n    conn,\n    \"_usr\",\n    () => getUser(conn) as Promise<CurrentUser>,\n    undefined\n  );\n\nexport const subscribeUser = (\n  conn: Connection,\n  onChange: (user: CurrentUser) => void\n) => userCollection(conn).subscribe(onChange);\n","import { HomeAssistant } from \"../types\";\n\nexport interface AuthProvider {\n  name: string;\n  id: string;\n  type: string;\n}\n\nexport interface Credential {\n  type: string;\n}\n\nexport interface SignedPath {\n  path: string;\n}\n\nexport const hassUrl = `${location.protocol}//${location.host}`;\n\nexport const getSignedPath = (\n  hass: HomeAssistant,\n  path: string\n): Promise<SignedPath> => hass.callWS({ type: \"auth/sign_path\", path });\n\nexport const fetchAuthProviders = () =>\n  fetch(\"/auth/providers\", {\n    credentials: \"same-origin\",\n  });\n","import { AuthData } from \"home-assistant-js-websocket\";\n\nconst storage = window.localStorage || {};\n\ndeclare global {\n  interface Window {\n    __tokenCache: {\n      // undefined: we haven't loaded yet\n      // null: none stored\n      tokens?: AuthData | null;\n      writeEnabled?: boolean;\n    };\n  }\n}\n\n// So that core.js and main app hit same shared object.\nlet tokenCache = window.__tokenCache;\nif (!tokenCache) {\n  tokenCache = window.__tokenCache = {\n    tokens: undefined,\n    writeEnabled: undefined,\n  };\n}\n\nexport function askWrite() {\n  return (\n    tokenCache.tokens !== undefined && tokenCache.writeEnabled === undefined\n  );\n}\n\nexport function saveTokens(tokens: AuthData | null) {\n  tokenCache.tokens = tokens;\n  if (tokenCache.writeEnabled) {\n    try {\n      storage.hassTokens = JSON.stringify(tokens);\n    } catch (err) {\n      // write failed, ignore it. Happens if storage is full or private mode.\n    }\n  }\n}\n\nexport function enableWrite() {\n  tokenCache.writeEnabled = true;\n  if (tokenCache.tokens) {\n    saveTokens(tokenCache.tokens);\n  }\n}\n\nexport function loadTokens() {\n  if (tokenCache.tokens === undefined) {\n    try {\n      // Delete the old token cache.\n      delete storage.tokens;\n      const tokens = storage.hassTokens;\n      if (tokens) {\n        tokenCache.tokens = JSON.parse(tokens);\n        tokenCache.writeEnabled = true;\n      } else {\n        tokenCache.tokens = null;\n      }\n    } catch (err) {\n      tokenCache.tokens = null;\n    }\n  }\n  return tokenCache.tokens;\n}\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { Themes } from \"../types\";\n\nconst fetchThemes = (conn) =>\n  conn.sendMessagePromise({\n    type: \"frontend/get_themes\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    (event) => store.setState(event.data, true),\n    \"themes_updated\"\n  );\n\nexport const subscribeThemes = (\n  conn: Connection,\n  onChange: (themes: Themes) => void\n) =>\n  createCollection<Themes>(\n    \"_thm\",\n    fetchThemes,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n","import { createCollection, Connection } from \"home-assistant-js-websocket\";\nimport { Panels } from \"../types\";\n\nconst fetchPanels = (conn) =>\n  conn.sendMessagePromise({\n    type: \"get_panels\",\n  });\n\nconst subscribeUpdates = (conn, store) =>\n  conn.subscribeEvents(\n    () => fetchPanels(conn).then((panels) => store.setState(panels, true)),\n    \"panels_updated\"\n  );\n\nexport const subscribePanels = (\n  conn: Connection,\n  onChange: (panels: Panels) => void\n) =>\n  createCollection<Panels>(\n    \"_pnl\",\n    fetchPanels,\n    subscribeUpdates,\n    conn,\n    onChange\n  );\n"],"sourceRoot":""}